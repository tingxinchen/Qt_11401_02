# Qt 通訊軟體測試指南

## 功能測試清單

### 1. 好友名單功能測試

#### 測試 1.1: 新增好友
- [ ] 點擊「新增好友」按鈕
- [ ] 輸入好友名稱（例如："Alice"）
- [ ] 確認好友出現在名單中
- [ ] 預期結果：顯示成功訊息，好友出現在列表中

#### 測試 1.2: 重複新增好友
- [ ] 嘗試新增已存在的好友
- [ ] 預期結果：顯示錯誤訊息「好友已存在!」

#### 測試 1.3: 刪除好友
- [ ] 選擇一個好友
- [ ] 點擊「刪除好友」按鈕
- [ ] 確認刪除對話框
- [ ] 預期結果：好友從列表中移除

#### 測試 1.4: 好友名單持久化
- [ ] 新增幾個好友
- [ ] 關閉應用程式
- [ ] 重新啟動應用程式
- [ ] 預期結果：之前新增的好友仍然存在

### 2. 伺服器功能測試

#### 測試 2.1: 啟動伺服器
- [ ] 點擊「啟動伺服器」按鈕
- [ ] 輸入連接埠號（例如：8888）
- [ ] 預期結果：顯示「伺服器運行中 (連接埠: 8888)」

#### 測試 2.2: 停止伺服器
- [ ] 啟動伺服器後
- [ ] 再次點擊「停止伺服器」按鈕
- [ ] 預期結果：顯示「伺服器已停止」

### 3. 一對一通訊測試

#### 測試 3.1: 開啟聊天視窗
- [ ] 雙擊好友名稱
- [ ] 預期結果：開啟聊天視窗，標題顯示「與 [好友名稱] 聊天」

#### 測試 3.2: 客戶端連接（需要兩個實例）
- [ ] 實例 A：啟動伺服器（連接埠 8888）
- [ ] 實例 B：開啟聊天視窗，點擊「連接」
- [ ] 實例 B：輸入 IP（127.0.0.1）和連接埠（8888）
- [ ] 預期結果：連接狀態顯示「已連接」

#### 測試 3.3: 發送訊息
- [ ] 在連接狀態下
- [ ] 在訊息輸入框輸入文字
- [ ] 點擊「發送」按鈕或按 Enter 鍵
- [ ] 預期結果：
  - 訊息顯示在發送方的聊天記錄中
  - 訊息附帶時間戳記
  - 訊息在接收方視窗中顯示

#### 測試 3.4: 接收訊息
- [ ] 等待對方發送訊息
- [ ] 預期結果：
  - 收到的訊息顯示在聊天記錄中
  - 顯示發送者名稱和時間戳記
  - 如果聊天視窗未開啟，自動開啟

#### 測試 3.5: 未連接時發送訊息
- [ ] 在未連接狀態下
- [ ] 嘗試發送訊息
- [ ] 預期結果：顯示錯誤訊息「未連接到伺服器!」

#### 測試 3.6: 斷開連接
- [ ] 在連接狀態下
- [ ] 點擊「斷開」按鈕
- [ ] 預期結果：
  - 連接狀態變為「未連接」
  - 聊天記錄顯示「已斷開連接」系統訊息

### 4. 邊界條件測試

#### 測試 4.1: 空白好友名稱
- [ ] 嘗試新增空白名稱的好友
- [ ] 預期結果：不應該新增成功

#### 測試 4.2: 空白訊息
- [ ] 嘗試發送空白訊息
- [ ] 預期結果：訊息不應該被發送

#### 測試 4.3: 多個聊天視窗
- [ ] 開啟多個不同好友的聊天視窗
- [ ] 預期結果：每個視窗獨立運作，不互相影響

#### 測試 4.4: 連接埠衝突
- [ ] 啟動伺服器使用連接埠 8888
- [ ] 嘗試再次啟動伺服器使用相同連接埠
- [ ] 預期結果：顯示錯誤訊息

### 5. 壓力測試

#### 測試 5.1: 大量好友
- [ ] 新增 50+ 個好友
- [ ] 預期結果：應用程式運行正常，列表可以滾動

#### 測試 5.2: 長訊息
- [ ] 發送超過 1000 字元的訊息
- [ ] 預期結果：訊息完整發送和接收

#### 測試 5.3: 快速連續發送
- [ ] 快速連續發送多條訊息
- [ ] 預期結果：所有訊息都被正確發送和顯示

## 測試環境需求

- Qt 5.x 或更高版本
- 網路環境：本地網路或相同區域網路
- 防火牆：允許應用程式使用的連接埠

## 測試記錄範例

```
測試日期：2024-XX-XX
測試者：[姓名]
Qt 版本：5.15.13
作業系統：Ubuntu 22.04

測試結果：
✅ 所有好友名單功能正常
✅ 伺服器啟動/停止正常
✅ 一對一通訊功能正常
✅ 邊界條件處理正確
⚠️ 發現問題：[描述問題]
```

## 已知限制

1. 目前僅支援文字訊息
2. 不支援訊息歷史記錄持久化
3. 需要手動輸入 IP 和連接埠
4. 不支援自動重連功能
5. 訊息未加密

## 回報問題

如果發現任何問題，請記錄：
- 重現步驟
- 預期行為
- 實際行為
- 錯誤訊息（如有）
- 系統環境資訊
